{"version":3,"sources":["../../../../vendor/waitForImages/dist/jquery.waitforimages.min.js"],"names":["e","define","amd","exports","module","require","jQuery","r","waitForImages","hasImageProperties","hasImageAttributes","expr","is","uncached","complete","fn","t","s","n","a","i","c","Deferred","isPlainObject","arguments","waitForAll","each","finished","length","type","noop","isFunction","TypeError","o","u","h","l","f","find","addBack","push","src","attr","element","css","exec","srcset","call","resolveWith","Image","one","apply","notifyWith","off","promise"],"mappings":"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","file":"jquery.waitforimages.min.js","sourcesContent":["!function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):\"object\"==typeof exports?module.exports=e(require(\"jquery\")):e(jQuery)}(function(e){var r=\"waitForImages\";e.waitForImages={hasImageProperties:[\"backgroundImage\",\"listStyleImage\",\"borderImage\",\"borderCornerImage\",\"cursor\"],hasImageAttributes:[\"srcset\"]},e.expr[\":\"][\"has-src\"]=function(r){return e(r).is('img[src][src!=\"\"]')},e.expr[\":\"].uncached=function(r){return!!e(r).is(\":has-src\")&&!r.complete},e.fn.waitForImages=function(){var t,s,n,a=0,i=0,c=e.Deferred();if(e.isPlainObject(arguments[0])?(n=arguments[0].waitForAll,s=arguments[0].each,t=arguments[0].finished):1===arguments.length&&\"boolean\"===e.type(arguments[0])?n=arguments[0]:(t=arguments[0],s=arguments[1],n=arguments[2]),t=t||e.noop,s=s||e.noop,n=!!n,!e.isFunction(t)||!e.isFunction(s))throw new TypeError(\"An invalid callback was supplied.\");return this.each(function(){var o=e(this),u=[],h=e.waitForImages.hasImageProperties||[],l=e.waitForImages.hasImageAttributes||[],f=/url\\(\\s*(['\"]?)(.*?)\\1\\s*\\)/g;n?o.find(\"*\").addBack().each(function(){var r=e(this);r.is(\"img:has-src\")&&!r.is(\"[srcset]\")&&u.push({src:r.attr(\"src\"),element:r[0]}),e.each(h,function(e,t){var s,n=r.css(t);if(!n)return!0;for(;s=f.exec(n);)u.push({src:s[2],element:r[0]})}),e.each(l,function(e,t){var s=r.attr(t);return!s||void u.push({src:r.attr(\"src\"),srcset:r.attr(\"srcset\"),element:r[0]})})}):o.find(\"img:has-src\").each(function(){u.push({src:this.src,element:this})}),a=u.length,i=0,0===a&&(t.call(o[0]),c.resolveWith(o[0])),e.each(u,function(n,u){var h=new Image,l=\"load.\"+r+\" error.\"+r;e(h).one(l,function r(n){var h=[i,a,\"load\"==n.type];return i++,s.apply(u.element,h),c.notifyWith(u.element,h),e(this).off(l,r),i==a?(t.call(o[0]),c.resolveWith(o[0]),!1):void 0}),u.srcset&&(h.srcset=u.srcset),h.src=u.src})}),c.promise()}});"]}