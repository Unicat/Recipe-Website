{"version":3,"sources":["../../../node_modules/glob/sync.js"],"names":["module","exports","globSync","GlobSync","fs","require","rp","minimatch","Minimatch","Glob","util","path","assert","isAbsolute","common","alphasort","alphasorti","setopts","ownProp","childrenIgnored","isIgnored","pattern","options","arguments","length","TypeError","found","Error","noprocess","n","set","matches","Array","i","_process","_finish","prototype","realpath","self","forEach","matchset","index","Object","create","p","_makeAbs","real","realpathSync","realpathCache","er","syscall","finish","inGlobStar","prefix","_processSimple","join","slice","remain","read","abs","isGlobStar","GLOBSTAR","_processGlobStar","_processReaddir","entries","_readdir","pn","negate","rawGlob","_glob","dotOk","dot","charAt","matchedEntries","e","m","match","push","len","mark","stat","nomount","root","_emitMatch","shift","newPattern","concat","_mark","absolute","nodir","c","cache","isArray","_stat","_readdirInGlobStar","follow","lstat","lstatSync","code","isSym","isSymbolicLink","symlinks","isDirectory","_readdirEntries","readdirSync","_readdirError","f","cwdAbs","error","cwd","strict","silent","console","remainWithoutGlobStar","gspref","noGlobStar","instead","below","exists","trail","test","resolve","process","platform","replace","needDir","maxLength","statCache","statSync","makeAbs"],"mappings":"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","file":"sync.js","sourcesContent":["module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n"]}