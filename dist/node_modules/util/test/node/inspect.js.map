{"version":3,"sources":["../../../../../node_modules/util/test/node/inspect.js"],"names":["assert","require","util","Date2","runInNewContext","d","orig","inspect","prototype","foo","after","equal","a","Array","getter","Object","create","get","setter","b","set","getterAndSetter","c","Error","TypeError","SyntaxError","undef","e","ex","ok","indexOf","Date","doesNotThrow","toUTCString","r","toString","x","test_color_style","style","input","implicit","color_name","styles","color","colors","without_color","with_color","expect","undefined","hasOwnProperty","subject","hello","defineProperty","enumerable","value","showHidden","depth","customInspect","opts","strictEqual","customInspectOptions","test_lines","count_lines","str","match","length","big_array","i","push","baz","very_long_key","even_longer_key"],"mappings":"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","file":"inspect.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n\nvar assert = require('assert');\nvar util = require('../../');\n\n// test the internal isDate implementation\nvar Date2 = require('vm').runInNewContext('Date');\nvar d = new Date2();\nvar orig = util.inspect(d);\nDate2.prototype.foo = 'bar';\nvar after = util.inspect(d);\nassert.equal(orig, after);\n\n// test for sparse array\nvar a = ['foo', 'bar', 'baz'];\nassert.equal(util.inspect(a), '[ \\'foo\\', \\'bar\\', \\'baz\\' ]');\ndelete a[1];\nassert.equal(util.inspect(a), '[ \\'foo\\', , \\'baz\\' ]');\nassert.equal(util.inspect(a, true), '[ \\'foo\\', , \\'baz\\', [length]: 3 ]');\nassert.equal(util.inspect(new Array(5)), '[ , , , ,  ]');\n\n// test for property descriptors\nvar getter = Object.create(null, {\n  a: {\n    get: function() { return 'aaa'; }\n  }\n});\nvar setter = Object.create(null, {\n  b: {\n    set: function() {}\n  }\n});\nvar getterAndSetter = Object.create(null, {\n  c: {\n    get: function() { return 'ccc'; },\n    set: function() {}\n  }\n});\nassert.equal(util.inspect(getter, true), '{ [a]: [Getter] }');\nassert.equal(util.inspect(setter, true), '{ [b]: [Setter] }');\nassert.equal(util.inspect(getterAndSetter, true), '{ [c]: [Getter/Setter] }');\n\n// exceptions should print the error message, not '{}'\nassert.equal(util.inspect(new Error()), '[Error]');\nassert.equal(util.inspect(new Error('FAIL')), '[Error: FAIL]');\nassert.equal(util.inspect(new TypeError('FAIL')), '[TypeError: FAIL]');\nassert.equal(util.inspect(new SyntaxError('FAIL')), '[SyntaxError: FAIL]');\ntry {\n  undef();\n} catch (e) {\n  assert.equal(util.inspect(e), '[ReferenceError: undef is not defined]');\n}\nvar ex = util.inspect(new Error('FAIL'), true);\nassert.ok(ex.indexOf('[Error: FAIL]') != -1);\nassert.ok(ex.indexOf('[stack]') != -1);\nassert.ok(ex.indexOf('[message]') != -1);\n\n// GH-1941\n// should not throw:\nassert.equal(util.inspect(Object.create(Date.prototype)), '{}');\n\n// GH-1944\nassert.doesNotThrow(function() {\n  var d = new Date();\n  d.toUTCString = null;\n  util.inspect(d);\n});\n\nassert.doesNotThrow(function() {\n  var r = /regexp/;\n  r.toString = null;\n  util.inspect(r);\n});\n\n// bug with user-supplied inspect function returns non-string\nassert.doesNotThrow(function() {\n  util.inspect([{\n    inspect: function() { return 123; }\n  }]);\n});\n\n// GH-2225\nvar x = { inspect: util.inspect };\nassert.ok(util.inspect(x).indexOf('inspect') != -1);\n\n// util.inspect.styles and util.inspect.colors\nfunction test_color_style(style, input, implicit) {\n  var color_name = util.inspect.styles[style];\n  var color = ['', ''];\n  if(util.inspect.colors[color_name])\n    color = util.inspect.colors[color_name];\n\n  var without_color = util.inspect(input, false, 0, false);\n  var with_color = util.inspect(input, false, 0, true);\n  var expect = '\\u001b[' + color[0] + 'm' + without_color +\n               '\\u001b[' + color[1] + 'm';\n  assert.equal(with_color, expect, 'util.inspect color for style '+style);\n}\n\ntest_color_style('special', function(){});\ntest_color_style('number', 123.456);\ntest_color_style('boolean', true);\ntest_color_style('undefined', undefined);\ntest_color_style('null', null);\ntest_color_style('string', 'test string');\ntest_color_style('date', new Date);\ntest_color_style('regexp', /regexp/);\n\n// an object with \"hasOwnProperty\" overwritten should not throw\nassert.doesNotThrow(function() {\n  util.inspect({\n    hasOwnProperty: null\n  });\n});\n\n// new API, accepts an \"options\" object\nvar subject = { foo: 'bar', hello: 31, a: { b: { c: { d: 0 } } } };\nObject.defineProperty(subject, 'hidden', { enumerable: false, value: null });\n\nassert(util.inspect(subject, { showHidden: false }).indexOf('hidden') === -1);\nassert(util.inspect(subject, { showHidden: true }).indexOf('hidden') !== -1);\nassert(util.inspect(subject, { colors: false }).indexOf('\\u001b[32m') === -1);\nassert(util.inspect(subject, { colors: true }).indexOf('\\u001b[32m') !== -1);\nassert(util.inspect(subject, { depth: 2 }).indexOf('c: [Object]') !== -1);\nassert(util.inspect(subject, { depth: 0 }).indexOf('a: [Object]') !== -1);\nassert(util.inspect(subject, { depth: null }).indexOf('{ d: 0 }') !== -1);\n\n// \"customInspect\" option can enable/disable calling inspect() on objects\nsubject = { inspect: function() { return 123; } };\n\nassert(util.inspect(subject, { customInspect: true }).indexOf('123') !== -1);\nassert(util.inspect(subject, { customInspect: true }).indexOf('inspect') === -1);\nassert(util.inspect(subject, { customInspect: false }).indexOf('123') === -1);\nassert(util.inspect(subject, { customInspect: false }).indexOf('inspect') !== -1);\n\n// custom inspect() functions should be able to return other Objects\nsubject.inspect = function() { return { foo: 'bar' }; };\n\nassert.equal(util.inspect(subject), '{ foo: \\'bar\\' }');\n\nsubject.inspect = function(depth, opts) {\n  assert.strictEqual(opts.customInspectOptions, true);\n};\n\nutil.inspect(subject, { customInspectOptions: true });\n\n// util.inspect with \"colors\" option should produce as many lines as without it\nfunction test_lines(input) {\n  var count_lines = function(str) {\n    return (str.match(/\\n/g) || []).length;\n  }\n\n  var without_color = util.inspect(input);\n  var with_color = util.inspect(input, {colors: true});\n  assert.equal(count_lines(without_color), count_lines(with_color));\n}\n\ntest_lines([1, 2, 3, 4, 5, 6, 7]);\ntest_lines(function() {\n  var big_array = [];\n  for (var i = 0; i < 100; i++) {\n    big_array.push(i);\n  }\n  return big_array;\n}());\ntest_lines({foo: 'bar', baz: 35, b: {a: 35}});\ntest_lines({\n  foo: 'bar',\n  baz: 35,\n  b: {a: 35},\n  very_long_key: 'very_long_value',\n  even_longer_key: ['with even longer value in array']\n});\n"]}